import{S as at,i as ot,s as it,_ as nt,v as ue,a as D,k as p,q as H,w as he,c as P,l as _,m as h,r as M,h as n,n as u,x as pe,b as W,C as s,ac as ft,ad as ct,t as le,d as $e,f as x,y as _e,o as mt,u as te,g as je,V as We,W as Ge,A as Me,a3 as Ke,I as dt,p as Ye,R as Fe,T as ut}from"../../../../../chunks/index-98fbb2d4.js";import{S as ht}from"../../../../../chunks/index-54abeec4.js";import{t as de}from"../../../../../chunks/index-d76ee782.js";import{E as pt}from"../../../../../chunks/Error-87be376e.js";import{P as _t}from"../../../../../chunks/Pricesummary-32467dcf.js";import{L as rt}from"../../../../../chunks/LazyImg-7c4ba5e2.js";import{g as Ve}from"../../../../../chunks/navigation-f5e1c401.js";import{C as vt}from"../../../../../chunks/CheckoutHeader-d93f52e0.js";import{p as ze}from"../../../../../chunks/api-fa739876.js";/* empty css                                                                        */import"../../../../../chunks/index-87090d37.js";import"../../../../../chunks/hash-it.esm-eecb4324.js";import"../../../../../chunks/website-53ccb8f7.js";import"../../../../../chunks/toasts-d97c2a31.js";import"../../../../../chunks/index-7c2e2153.js";/* empty css                                                                    */import"../../../../../chunks/PrimaryButton-057a081b.js";import"../../../../../chunks/lazyload.esm-618d6b5d.js";import"../../../../../chunks/singletons-44c3e40a.js";import"../../../../../chunks/store-9c7a7cc1.js";import"../../../../../chunks/cookie-universal-common-1e0fc125.js";function Je(a,l,e){const r=a.slice();return r[25]=l[e],r}function gt(a){let l,e,r,t,o,i,c,m,y,w;return{c(){l=p("div"),e=p("div"),r=We("svg"),t=We("path"),o=D(),i=p("p"),c=H("We are very sorry!!"),m=D(),y=p("p"),w=H(`There's no payment methode is available. If you are an admin, then add a payment
							methode as fast as possible`),this.h()},l(z){l=_(z,"DIV",{class:!0});var O=h(l);e=_(O,"DIV",{class:!0});var g=h(e);r=Ge(g,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var k=h(r);t=Ge(k,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),h(t).forEach(n),k.forEach(n),o=P(g),i=_(g,"P",{class:!0});var S=h(i);c=M(S,"We are very sorry!!"),S.forEach(n),m=P(g),y=_(g,"P",{class:!0});var v=h(y);w=M(v,`There's no payment methode is available. If you are an admin, then add a payment
							methode as fast as possible`),v.forEach(n),g.forEach(n),O.forEach(n),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),u(r,"xmlns","http://www.w3.org/2000/svg"),u(r,"class","mb-5 h-10 w-10"),u(r,"fill","none"),u(r,"viewBox","0 0 24 24"),u(r,"stroke","currentColor"),u(r,"stroke-width","2"),u(i,"class","mb-2 font-bold capitalize"),u(y,"class","text-sm text-gray-500"),u(e,"class","mx-auto flex max-w-md flex-col items-center justify-center text-center"),u(l,"class","flex h-[50vh] items-center justify-center rounded-xl border bg-white p-4 shadow-xl")},m(z,O){W(z,l,O),s(l,e),s(e,r),s(r,t),s(e,o),s(e,i),s(i,c),s(e,m),s(e,y),s(y,w)},p:Me,i:Me,o:Me,d(z){z&&n(l)}}}function yt(a){let l,e,r=a[9],t=[];for(let i=0;i<r.length;i+=1)t[i]=Qe(Je(a,r,i));const o=i=>le(t[i],1,1,()=>{t[i]=null});return{c(){l=p("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){l=_(i,"DIV",{class:!0});var c=h(l);for(let m=0;m<t.length;m+=1)t[m].l(c);c.forEach(n),this.h()},h(){u(l,"class","flex w-full flex-col gap-4"),Ke(l,"wiggle",a[3])},m(i,c){W(i,l,c);for(let m=0;m<t.length;m+=1)t[m].m(l,null);e=!0},p(i,c){if(c&4612){r=i[9];let m;for(m=0;m<r.length;m+=1){const y=Je(i,r,m);t[m]?(t[m].p(y,c),x(t[m],1)):(t[m]=Qe(y),t[m].c(),x(t[m],1),t[m].m(l,null))}for(je(),m=r.length;m<t.length;m+=1)o(m);$e()}(!e||c&8)&&Ke(l,"wiggle",i[3])},i(i){if(!e){for(let c=0;c<r.length;c+=1)x(t[c]);e=!0}},o(i){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)le(t[c]);e=!1},d(i){i&&n(l),dt(t,i)}}}function Qe(a){let l,e,r,t,o,i,c,m=a[25].name+"",y,w,z,O=a[25].text+"",g,k,S,v,b,I,U,L;function E(){return a[17](a[25])}return v=new rt({props:{src:a[25].imgCdn,alt:a[25].name,width:"56",height:"56",class:"h-14 w-14 rounded-full border object-cover object-center text-xs"}}),{c(){l=p("label"),e=p("input"),t=D(),o=p("div"),i=p("div"),c=p("h2"),y=H(m),w=D(),z=p("p"),g=H(O),k=D(),S=p("div"),ue(v.$$.fragment),b=D(),this.h()},l(V){l=_(V,"LABEL",{class:!0});var C=h(l);e=_(C,"INPUT",{type:!0,name:!0,class:!0}),t=P(C),o=_(C,"DIV",{class:!0});var B=h(o);i=_(B,"DIV",{});var j=h(i);c=_(j,"H2",{class:!0,style:!0});var ee=h(c);y=M(ee,m),ee.forEach(n),w=P(j),z=_(j,"P",{class:!0});var d=h(z);g=M(d,O),d.forEach(n),j.forEach(n),k=P(B),S=_(B,"DIV",{});var X=h(S);he(v.$$.fragment,X),X.forEach(n),B.forEach(n),b=P(C),C.forEach(n),this.h()},h(){u(e,"type","radio"),e.__value=r=a[25],e.value=e.__value,u(e,"name","group"),u(e,"class","h-4 w-4 focus:outline-none focus:ring-0 focus:ring-offset-0"),a[16][0].push(e),u(c,"class","text-xl font-semibold"),Ye(c,"color",a[25].color),u(z,"class","mt-1 text-sm text-gray-500"),u(o,"class","flex w-full flex-1 items-center justify-between gap-4"),u(l,"class","flex w-full cursor-pointer items-center gap-2 rounded-md border border-gray-300 p-4 shadow-md transition duration-300 hover:bg-primary-50 sm:gap-4")},m(V,C){W(V,l,C),s(l,e),e.checked=e.__value===a[2],s(l,t),s(l,o),s(o,i),s(i,c),s(c,y),s(i,w),s(i,z),s(z,g),s(o,k),s(o,S),pe(v,S,null),s(l,b),I=!0,U||(L=[Fe(e,"change",a[15]),Fe(e,"click",E)],U=!0)},p(V,C){a=V,(!I||C&512&&r!==(r=a[25]))&&(e.__value=r,e.value=e.__value),C&4&&(e.checked=e.__value===a[2]),(!I||C&512)&&m!==(m=a[25].name+"")&&te(y,m),(!I||C&512)&&Ye(c,"color",a[25].color),(!I||C&512)&&O!==(O=a[25].text+"")&&te(g,O);const B={};C&512&&(B.src=a[25].imgCdn),C&512&&(B.alt=a[25].name),v.$set(B)},i(V){I||(x(v.$$.fragment,V),I=!0)},o(V){le(v.$$.fragment,V),I=!1},d(V){V&&n(l),a[16][0].splice(a[16][0].indexOf(e),1),_e(v),U=!1,ut(L)}}}function Xe(a){let l,e,r,t,o,i,c,m,y,w,z=a[8].firstName+"",O,g,k=a[8].lastName+"",S,v,b,I,U,L,E,V,C,B,j,ee,d,X,T,N,se,ne=a[8].zip+"",f,$,Q,Z,ae,R,re,fe=a[8].phone+"",ye,Ce,ce,me,Se,He,ve,ge=a[8].email+"",be,G=a[8].address&&Ze(a),K=a[8].locality&&xe(a),Y=a[8].city&&et(a),F=a[8].state&&tt(a),J=a[8].country&&lt(a);return{c(){l=p("div"),e=p("h5"),r=H("Delivery Address"),t=D(),o=p("div"),i=p("div"),c=p("h5"),m=H("Name"),y=D(),w=p("p"),O=H(z),g=D(),S=H(k),v=D(),b=p("div"),I=p("h5"),U=H("Address"),L=D(),E=p("p"),G&&G.c(),V=D(),K&&K.c(),C=D(),Y&&Y.c(),B=D(),F&&F.c(),j=D(),J&&J.c(),ee=D(),d=p("div"),X=p("h5"),T=H("Pin"),N=D(),se=p("h6"),f=H(ne),$=D(),Q=p("div"),Z=p("h5"),ae=H("Phone"),R=D(),re=p("h6"),ye=H(fe),Ce=D(),ce=p("div"),me=p("h5"),Se=H("Email"),He=D(),ve=p("h6"),be=H(ge),this.h()},l(A){l=_(A,"DIV",{class:!0});var q=h(l);e=_(q,"H5",{class:!0});var Ne=h(e);r=M(Ne,"Delivery Address"),Ne.forEach(n),t=P(q),o=_(q,"DIV",{class:!0});var oe=h(o);i=_(oe,"DIV",{class:!0});var ke=h(i);c=_(ke,"H5",{class:!0});var Oe=h(c);m=M(Oe,"Name"),Oe.forEach(n),y=P(ke),w=_(ke,"P",{});var we=h(w);O=M(we,z),g=P(we),S=M(we,k),we.forEach(n),ke.forEach(n),v=P(oe),b=_(oe,"DIV",{class:!0});var Ee=h(b);I=_(Ee,"H5",{class:!0});var Ae=h(I);U=M(Ae,"Address"),Ae.forEach(n),L=P(Ee),E=_(Ee,"P",{class:!0});var ie=h(E);G&&G.l(ie),V=P(ie),K&&K.l(ie),C=P(ie),Y&&Y.l(ie),B=P(ie),F&&F.l(ie),j=P(ie),J&&J.l(ie),ie.forEach(n),Ee.forEach(n),ee=P(oe),d=_(oe,"DIV",{class:!0});var Ie=h(d);X=_(Ie,"H5",{class:!0});var Be=h(X);T=M(Be,"Pin"),Be.forEach(n),N=P(Ie),se=_(Ie,"H6",{});var Te=h(se);f=M(Te,ne),Te.forEach(n),Ie.forEach(n),$=P(oe),Q=_(oe,"DIV",{class:!0});var De=h(Q);Z=_(De,"H5",{class:!0});var Ue=h(Z);ae=M(Ue,"Phone"),Ue.forEach(n),R=P(De),re=_(De,"H6",{});var Le=h(re);ye=M(Le,fe),Le.forEach(n),De.forEach(n),Ce=P(oe),ce=_(oe,"DIV",{class:!0});var Pe=h(ce);me=_(Pe,"H5",{class:!0});var Re=h(me);Se=M(Re,"Email"),Re.forEach(n),He=P(Pe),ve=_(Pe,"H6",{});var qe=h(ve);be=M(qe,ge),qe.forEach(n),Pe.forEach(n),oe.forEach(n),q.forEach(n),this.h()},h(){u(e,"class","mb-2 text-xl font-bold capitalize tracking-wide"),u(c,"class","mr-2 w-20 flex-shrink-0 font-semibold tracking-wide"),u(i,"class","my-1 flex flex-row"),u(I,"class","mr-2 w-20 flex-shrink-0 font-semibold tracking-wide"),u(E,"class","flex flex-wrap items-center"),u(b,"class","flex flex-row"),u(X,"class","mr-2 w-20 flex-shrink-0 font-semibold tracking-wide"),u(d,"class","my-1 flex flex-row"),u(Z,"class","mr-2 w-20 flex-shrink-0 font-semibold tracking-wide"),u(Q,"class","my-1 flex flex-row"),u(me,"class","mr-2 w-20 flex-shrink-0 font-semibold tracking-wide"),u(ce,"class","my-1 flex flex-row flex-wrap"),u(o,"class","text-sm font-light"),u(l,"class","mt-5 border-t pt-5")},m(A,q){W(A,l,q),s(l,e),s(e,r),s(l,t),s(l,o),s(o,i),s(i,c),s(c,m),s(i,y),s(i,w),s(w,O),s(w,g),s(w,S),s(o,v),s(o,b),s(b,I),s(I,U),s(b,L),s(b,E),G&&G.m(E,null),s(E,V),K&&K.m(E,null),s(E,C),Y&&Y.m(E,null),s(E,B),F&&F.m(E,null),s(E,j),J&&J.m(E,null),s(o,ee),s(o,d),s(d,X),s(X,T),s(d,N),s(d,se),s(se,f),s(o,$),s(o,Q),s(Q,Z),s(Z,ae),s(Q,R),s(Q,re),s(re,ye),s(o,Ce),s(o,ce),s(ce,me),s(me,Se),s(ce,He),s(ce,ve),s(ve,be)},p(A,q){q&256&&z!==(z=A[8].firstName+"")&&te(O,z),q&256&&k!==(k=A[8].lastName+"")&&te(S,k),A[8].address?G?G.p(A,q):(G=Ze(A),G.c(),G.m(E,V)):G&&(G.d(1),G=null),A[8].locality?K?K.p(A,q):(K=xe(A),K.c(),K.m(E,C)):K&&(K.d(1),K=null),A[8].city?Y?Y.p(A,q):(Y=et(A),Y.c(),Y.m(E,B)):Y&&(Y.d(1),Y=null),A[8].state?F?F.p(A,q):(F=tt(A),F.c(),F.m(E,j)):F&&(F.d(1),F=null),A[8].country?J?J.p(A,q):(J=lt(A),J.c(),J.m(E,null)):J&&(J.d(1),J=null),q&256&&ne!==(ne=A[8].zip+"")&&te(f,ne),q&256&&fe!==(fe=A[8].phone+"")&&te(ye,fe),q&256&&ge!==(ge=A[8].email+"")&&te(be,ge)},d(A){A&&n(l),G&&G.d(),K&&K.d(),Y&&Y.d(),F&&F.d(),J&&J.d()}}}function Ze(a){let l=a[8].address+"",e;return{c(){e=H(l)},l(r){e=M(r,l)},m(r,t){W(r,e,t)},p(r,t){t&256&&l!==(l=r[8].address+"")&&te(e,l)},d(r){r&&n(e)}}}function xe(a){let l,e=a[8].locality+"",r;return{c(){l=H(", "),r=H(e)},l(t){l=M(t,", "),r=M(t,e)},m(t,o){W(t,l,o),W(t,r,o)},p(t,o){o&256&&e!==(e=t[8].locality+"")&&te(r,e)},d(t){t&&n(l),t&&n(r)}}}function et(a){let l,e=a[8].city+"",r;return{c(){l=H(", "),r=H(e)},l(t){l=M(t,", "),r=M(t,e)},m(t,o){W(t,l,o),W(t,r,o)},p(t,o){o&256&&e!==(e=t[8].city+"")&&te(r,e)},d(t){t&&n(l),t&&n(r)}}}function tt(a){let l,e=a[8].state+"",r;return{c(){l=H(", "),r=H(e)},l(t){l=M(t,", "),r=M(t,e)},m(t,o){W(t,l,o),W(t,r,o)},p(t,o){o&256&&e!==(e=t[8].state+"")&&te(r,e)},d(t){t&&n(l),t&&n(r)}}}function lt(a){let l,e=a[8].country+"",r;return{c(){l=H(", "),r=H(e)},l(t){l=M(t,", "),r=M(t,e)},m(t,o){W(t,l,o),W(t,r,o)},p(t,o){o&256&&e!==(e=t[8].country+"")&&te(r,e)},d(t){t&&n(l),t&&n(r)}}}function st(a){let l,e,r,t,o,i,c,m,y,w,z=a[6].name+"",O,g,k,S,v;return S=new rt({props:{src:a[6].url,alt:"",height:"80",class:"h-20 w-auto object-contain object-top text-xs"}}),{c(){l=p("div"),e=p("h5"),r=H("Prescription Detail"),t=D(),o=p("div"),i=p("div"),c=p("h5"),m=H("Name"),y=D(),w=p("p"),O=H(z),g=D(),k=p("div"),ue(S.$$.fragment),this.h()},l(b){l=_(b,"DIV",{class:!0});var I=h(l);e=_(I,"H5",{class:!0});var U=h(e);r=M(U,"Prescription Detail"),U.forEach(n),t=P(I),o=_(I,"DIV",{class:!0});var L=h(o);i=_(L,"DIV",{class:!0});var E=h(i);c=_(E,"H5",{class:!0});var V=h(c);m=M(V,"Name"),V.forEach(n),y=P(E),w=_(E,"P",{});var C=h(w);O=M(C,z),C.forEach(n),E.forEach(n),g=P(L),k=_(L,"DIV",{});var B=h(k);he(S.$$.fragment,B),B.forEach(n),L.forEach(n),I.forEach(n),this.h()},h(){u(e,"class","mb-2 text-xl font-bold capitalize tracking-wide"),u(c,"class","mr-2 w-20 flex-shrink-0 font-semibold tracking-wide"),u(i,"class","my-1 flex flex-row"),u(o,"class","text-sm font-light"),u(l,"class","mt-5 border-t pt-5")},m(b,I){W(b,l,I),s(l,e),s(e,r),s(l,t),s(l,o),s(o,i),s(i,c),s(c,m),s(i,y),s(i,w),s(w,O),s(o,g),s(o,k),pe(S,k,null),v=!0},p(b,I){(!v||I&64)&&z!==(z=b[6].name+"")&&te(O,z);const U={};I&64&&(U.src=b[6].url),S.$set(U)},i(b){v||(x(S.$$.fragment,b),v=!0)},o(b){le(S.$$.fragment,b),v=!1},d(b){b&&n(l),_e(S)}}}function bt(a){var se,ne;let l,e,r,t,o,i,c,m,y,w,z,O,g,k,S,v,b,I,U,L,E,V,C;const B=[a[11]];let j={};for(let f=0;f<B.length;f+=1)j=nt(j,B[f]);l=new ht({props:j}),r=new pt({props:{err:a[10]}}),i=new vt({props:{selected:"payment"}});const ee=[yt,gt],d=[];function X(f,$){return f[9]?0:1}g=X(a),k=d[g]=ee[g](a);let T=a[8]&&Xe(a),N=a[6]&&st(a);return V=new _t({props:{cart:a[7],text:a[0]||"Confirm Order",loading:a[5],hideCheckoutButton:a[2].name==="Stripe",disabled:!a[4]||!((se=a[2])!=null&&se.name)||((ne=a[2])==null?void 0:ne.name)==="Stripe"&&a[1]}}),V.$on("submit",a[18]),{c(){ue(l.$$.fragment),e=D(),ue(r.$$.fragment),t=D(),o=p("div"),ue(i.$$.fragment),c=D(),m=p("div"),y=p("div"),w=p("h2"),z=H("Payment Options"),O=D(),k.c(),S=D(),v=p("div"),b=p("h2"),I=H("Cart Summary"),U=D(),T&&T.c(),L=D(),N&&N.c(),E=D(),ue(V.$$.fragment),this.h()},l(f){he(l.$$.fragment,f),e=P(f),he(r.$$.fragment,f),t=P(f),o=_(f,"DIV",{class:!0});var $=h(o);he(i.$$.fragment,$),c=P($),m=_($,"DIV",{class:!0});var Q=h(m);y=_(Q,"DIV",{class:!0});var Z=h(y);w=_(Z,"H2",{class:!0});var ae=h(w);z=M(ae,"Payment Options"),ae.forEach(n),O=P(Z),k.l(Z),Z.forEach(n),S=P(Q),v=_(Q,"DIV",{class:!0});var R=h(v);b=_(R,"H2",{class:!0});var re=h(b);I=M(re,"Cart Summary"),re.forEach(n),U=P(R),T&&T.l(R),L=P(R),N&&N.l(R),E=P(R),he(V.$$.fragment,R),R.forEach(n),Q.forEach(n),$.forEach(n),this.h()},h(){u(w,"class","mb-5 text-xl font-bold capitalize tracking-wide sm:text-2xl"),u(y,"class","w-full flex-1"),u(b,"class","text-xl font-bold capitalize tracking-wide sm:text-2xl"),u(v,"class","w-full md:w-80 md:flex-shrink-0 md:flex-grow-0"),u(m,"class","mt-10 flex flex-col gap-10 md:flex-row md:justify-center xl:gap-20"),u(o,"class","container mx-auto min-h-screen w-full max-w-6xl p-3 py-5 sm:p-10")},m(f,$){pe(l,f,$),W(f,e,$),pe(r,f,$),W(f,t,$),W(f,o,$),pe(i,o,null),s(o,c),s(o,m),s(m,y),s(y,w),s(w,z),s(y,O),d[g].m(y,null),s(m,S),s(m,v),s(v,b),s(b,I),s(v,U),T&&T.m(v,null),s(v,L),N&&N.m(v,null),s(v,E),pe(V,v,null),C=!0},p(f,[$]){var re,fe;const Q=$&2048?ft(B,[ct(f[11])]):{};l.$set(Q);const Z={};$&1024&&(Z.err=f[10]),r.$set(Z);let ae=g;g=X(f),g===ae?d[g].p(f,$):(je(),le(d[ae],1,1,()=>{d[ae]=null}),$e(),k=d[g],k?k.p(f,$):(k=d[g]=ee[g](f),k.c()),x(k,1),k.m(y,null)),f[8]?T?T.p(f,$):(T=Xe(f),T.c(),T.m(v,L)):T&&(T.d(1),T=null),f[6]?N?(N.p(f,$),$&64&&x(N,1)):(N=st(f),N.c(),x(N,1),N.m(v,E)):N&&(je(),le(N,1,1,()=>{N=null}),$e());const R={};$&128&&(R.cart=f[7]),$&1&&(R.text=f[0]||"Confirm Order"),$&32&&(R.loading=f[5]),$&4&&(R.hideCheckoutButton=f[2].name==="Stripe"),$&22&&(R.disabled=!f[4]||!((re=f[2])!=null&&re.name)||((fe=f[2])==null?void 0:fe.name)==="Stripe"&&f[1]),V.$set(R)},i(f){C||(x(l.$$.fragment,f),x(r.$$.fragment,f),x(i.$$.fragment,f),x(k),x(N),x(V.$$.fragment,f),C=!0)},o(f){le(l.$$.fragment,f),le(r.$$.fragment,f),le(i.$$.fragment,f),le(k),le(N),le(V.$$.fragment,f),C=!1},d(f){_e(l,f),f&&n(e),_e(r,f),f&&n(t),f&&n(o),_e(i),d[g].d(),T&&T.d(),N&&N.d(),_e(V)}}}function kt(a,l,e){let r,t,o,i,c,m,y,w,z;const O={title:"Select Payment Option",metadescription:"Choose your payment method"};let{data:g}=l,k="Select a Payment Method",S=!1,v={id:"",name:"",text:"",instructions:"",qrcode:"",img:""},b=!1,I=!1;mt(async()=>{const j=document.createElement("script");j.setAttribute("src","https://checkout.razorpay.com/v1/checkout.js"),document.head.appendChild(j),e(4,I=!0)});function U(j){e(2,v=j),e(0,k=null)}async function L(j){if(!j||j===void 0){e(1,S=!0),e(0,k="Please select a payment option"),de("Please select a payment option","error");return}const ee=j.value;if(ee==="cod")try{e(5,r=!0);const d=await ze("orders/checkout/cod",{address:w,paymentMethod:"COD",prescription:y==null?void 0:y._id});Ve(`/payment/success?id=${d==null?void 0:d._id}&status=PAYMENT_SUCCESS&provider=COD`)}catch(d){de(d,"error")}finally{e(5,r=!1)}else if(ee==="cashfree")try{e(5,r=!0);const d=await ze("payments/checkout-cf",{address:w});(d==null?void 0:d.redirectUrl)&&(d==null?void 0:d.redirectUrl)!==null?Ve(`${d==null?void 0:d.redirectUrl}`):de("Something went wrong","error")}catch(d){de(d==null?void 0:d.message,"error")}finally{e(5,r=!1)}else if(ee==="razorpay")try{const d=await ze("payments/checkout-rp",{address:w}),X={key:d.keyId,name:"kitcommerce.tech",description:"Payment for Misiki",image:"/icon.png",amount:d.amount,order_id:d.id,async handler(N){try{const se=await ze("payments/capture-rp",{rpPaymentId:N.razorpay_payment_id,rpOrderId:N.razorpay_order_id});de("Payment success","success"),Ve(`/payment/success?id=${se._id}`)}catch{Ve(`/payment/failure?ref=/checkout/payment-options?address=${w}`)}finally{}},prefill:{name:`${c.firstName} ${c.lastName}`,phone:c.phone,email:c.email||"help@kitcommerce.tech",contact:c.phone},notes:{address:"#22, Global Village, Rourkela, Odisha-769002, India"},theme:{color:"#112D4E"}};new Razorpay(X).open()}catch(d){de(d==null?void 0:d.message,"error")}finally{e(5,r=!1)}else e(3,b=!0),setTimeout(()=>{e(3,b=!1)},820)}const E=[[]];function V(){v=this.__value,e(2,v)}const C=j=>U(j),B=()=>L(v);return a.$$set=j=>{"data"in j&&e(14,g=j.data)},a.$$.update=()=>{a.$$.dirty&16384&&e(5,{loading:r,err:t,paymentMethods:o,address:i,me:c,cart:m,prescription:y,addressId:w,stripePublishableKey:z}=g,r,(e(10,t),e(14,g)),(e(9,o),e(14,g)),(e(8,i),e(14,g)),(e(7,m),e(14,g)),(e(6,y),e(14,g)))},[k,S,v,b,I,r,y,m,i,o,t,O,U,L,g,V,E,C,B]}class qt extends at{constructor(l){super(),ot(this,l,kt,bt,it,{data:14})}}export{qt as default};
