{
  "version": 3,
  "sources": ["../../.svelte-kit/adapter-node/entries/endpoints/rss.xml/_server.js"],
  "sourcesContent": ["import { g as getAPI } from \"../../../chunks/api.js\";\nimport { w as websiteName, d as domain, a as description, i as id } from \"../../../chunks/website.js\";\nimport { d as date } from \"../../../chunks/index4.js\";\nimport \"../../../chunks/store.js\";\nimport \"../../../chunks/index3.js\";\nimport \"../../../chunks/index.js\";\nimport \"cookie-universal\";\nimport \"../../../chunks/index5.js\";\n/* empty css                                                       */async function GET() {\n  var _a;\n  const resP = await getAPI(`es/products?store=${id}`);\n  const products = (_a = resP == null ? void 0 : resP.data) == null ? void 0 : _a.map((product) => {\n    product = {\n      name: product._source.name.replace(\"&\", \"\"),\n      slug: product._source.slug,\n      description: product._source.description,\n      updatedAt: product._source.updatedAt\n    };\n    return product;\n  });\n  if (!products)\n    return new Response(void 0, { status: 404 });\n  const body = xml(products);\n  const headers = {\n    \"Cache-Control\": \"max-age=0, s-maxage=3600\",\n    \"Content-Type\": \"application/xml\"\n  };\n  return {\n    headers,\n    body\n  };\n}\nconst xml = (products) => `<rss xmlns:dc=\"https://purl.org/dc/elements/1.1/\" xmlns:content=\"https://purl.org/rss/1.0/modules/content/\" xmlns:atom=\"https://www.w3.org/2005/Atom\" version=\"2.0\">\n  <channel>\n    <title>${websiteName}</title>\n    <link>${domain}</link>\n    <description>${description}</description>\n    ${products.map(\n  (product) => `\n        <item>\n          <title>${(product == null ? void 0 : product.name) || \"\"}</title>\n          <description>${(product == null ? void 0 : product.description) || \"\"}</description>\n          <link>${domain}/${product == null ? void 0 : product.slug}/</link>\n          <pubDate>${date(product == null ? void 0 : product.updatedAt)}</pubDate>\n          <content:encoded>${product == null ? void 0 : product.previewHtml} \n            <div style=\"margin-top: 50px; font-style: italic;\">\n              <strong>\n                <a href=\"${domain}/${product.slug}\" aria-label=\"Click to keep reading\">\n                  Keep Reading\n                </a>\n              </strong>  \n            </div>\n          </content:encoded>\n        </item>\n      `\n).join(\"\")}\n  </channel>\n</rss>`;\nexport {\n  GET\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAMA,OAAO;AAE8D,eAAe,MAAM;AACxF,MAAI;AACJ,QAAM,OAAO,MAAM,OAAO,qBAAqB,IAAI;AACnD,QAAM,YAAY,KAAK,QAAQ,OAAO,SAAS,KAAK,SAAS,OAAO,SAAS,GAAG,IAAI,CAAC,YAAY;AAC/F,cAAU;AAAA,MACR,MAAM,QAAQ,QAAQ,KAAK,QAAQ,KAAK,EAAE;AAAA,MAC1C,MAAM,QAAQ,QAAQ;AAAA,MACtB,aAAa,QAAQ,QAAQ;AAAA,MAC7B,WAAW,QAAQ,QAAQ;AAAA,IAC7B;AACA,WAAO;AAAA,EACT,CAAC;AACD,MAAI,CAAC;AACH,WAAO,IAAI,SAAS,QAAQ,EAAE,QAAQ,IAAI,CAAC;AAC7C,QAAM,OAAO,IAAI,QAAQ;AACzB,QAAM,UAAU;AAAA,IACd,iBAAiB;AAAA,IACjB,gBAAgB;AAAA,EAClB;AACA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;AACA,IAAM,MAAM,CAAC,aAAa;AAAA;AAAA,aAEb;AAAA,YACD;AAAA,mBACO;AAAA,MACb,SAAS;AAAA,EACb,CAAC,YAAY;AAAA;AAAA,oBAEK,WAAW,OAAO,SAAS,QAAQ,SAAS;AAAA,0BACtC,WAAW,OAAO,SAAS,QAAQ,gBAAgB;AAAA,kBAC3D,UAAU,WAAW,OAAO,SAAS,QAAQ;AAAA,qBAC1C,KAAK,WAAW,OAAO,SAAS,QAAQ,SAAS;AAAA,6BACzC,WAAW,OAAO,SAAS,QAAQ;AAAA;AAAA;AAAA,2BAGrC,UAAU,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQ7C,EAAE,KAAK,EAAE;AAAA;AAAA;",
  "names": []
}
